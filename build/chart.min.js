/*! datepicker 2014-06-05 */
angular.module("ui.chart",[]).controller("ChartController",["$scope",function(){}]).directive("mgChart",function(){return{scope:{data:"=chartData",options:"=chartOptions"},controller:"ChartController",restrict:"E",templateUrl:"chart.html",replace:!0,link:function(a,b){var c={width:800,height:500,padding:100},d={width:c.width-2*c.padding,height:c.height-2*c.padding},e=d3.select(b[0]).append("svg").attr("width",c.width).attr("height",c.height);a.$watch("data",function(a){e.selectAll("*").remove();var b=0,f=0;angular.forEach(a,function(a){f+=a.value,Number(a.value)>b&&(b=Number(a.value))});var g=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(a){return"<strong>"+a.label+":</strong> <span style='color:red'>"+a.value+"</span>"}),h=d3.scale.ordinal().rangeRoundBands([0,d.width],.1);h.domain(a.map(function(a){return a.label}));var i=d3.svg.axis().orient("bottom").scale(h),j=d3.scale.linear().range([d.height,0]);j.domain([0,b]);var k=d3.svg.axis().orient("left").scale(j);e.append("g").attr("class","x axis").attr("transform","translate("+c.padding+", "+(c.height-c.padding)+")").call(i).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform",function(){return"rotate(-65)"}),e.call(g),e.append("g").attr("class","y axis").attr("transform","translate("+c.padding+","+c.padding+" )").call(k);var l=e.selectAll("rect").data(a).enter().append("rect");l.attr("x",function(a){return h(a.label)+c.padding}).attr("y",function(a){return j(a.value)+c.padding}).attr("width",h.rangeBand()).attr("height",function(a){return d.height-j(a.value)}).style("fill",function(a){return a.color}).on("mouseover",g.show).on("mouseout",g.hide)},!0)}}}),angular.module("ui.chart").run(["$templateCache",function(a){"use strict";a.put("chart.html",'<div class="container">\n</div>')}]);