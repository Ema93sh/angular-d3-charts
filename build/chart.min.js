/*! datepicker 2014-06-07 */
var ChartModule=angular.module("ui.chart",[]);ChartModule.directive("mgBarChart",function(){return{scope:{data:"=chartData",options:"=chartOptions"},restrict:"E",templateUrl:"chart.html",replace:!0,link:function(a,b){var c={width:800,height:500,padding:100},d={width:c.width-2*c.padding,height:c.height-2*c.padding},e=d3.select(b[0]).append("svg").attr("width",c.width).attr("height",c.height);a.$watch("data",function(a){e.selectAll("*").remove();var b=0,f=0;angular.forEach(a,function(a){f+=a.value,Number(a.value)>b&&(b=Number(a.value))});var g=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(a){return"<strong>"+a.label+":</strong> <span style='color:red'>"+a.value+"</span>"}),h=d3.scale.ordinal().rangeRoundBands([0,d.width],.1);h.domain(a.map(function(a){return a.label}));var i=d3.svg.axis().orient("bottom").scale(h),j=d3.scale.linear().range([d.height,0]);j.domain([0,b]);var k=d3.svg.axis().orient("left").scale(j);e.append("g").attr("class","x axis").attr("transform","translate("+c.padding+", "+(c.height-c.padding)+")").call(i).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform",function(){return"rotate(-65)"}),e.call(g),e.append("g").attr("class","y axis").attr("transform","translate("+c.padding+","+c.padding+" )").call(k);var l=e.selectAll("rect").data(a).enter().append("rect");l.attr("x",function(a){return h(a.label)+c.padding}).attr("y",c.height-c.padding).attr("width",h.rangeBand()).attr("height",0).style("fill",function(a){return a.color}).on("mouseover",g.show).on("mouseout",g.hide).transition().attr("y",function(a){return j(a.value)+c.padding}).attr("height",function(a){return d.height-j(a.value)}).duration(1e3)},!0)}}}),ChartModule.directive("mgPieChart",function(){return{scope:{data:"=chartData"},restrict:"E",templateUrl:"chart.html",replace:"true",link:function(a,b){var c={width:800,height:500,padding:50},d={width:c.width-2*c.padding,height:c.height-2*c.padding},e=Math.min(d.width,d.height)/2,f=d3.select(b[0]).append("svg").attr("width",c.width).attr("height",c.height).append("g").attr("transform","translate("+c.width/2+","+c.height/2+")");a.$watch("data",function(a){f.selectAll("*").remove();var b=0,c=0;angular.forEach(a,function(a){c+=a.value,Number(a.value)>b&&(b=Number(a.value))});var d=d3.tip().attr("class","d3-tip").html(function(a){return"<strong>"+a.data.label+":</strong> <span style='color:red'>"+a.data.value+"</span>"});f.call(d);{var g=d3.layout.pie().value(function(a){return a.value}),h=d3.svg.arc().innerRadius(e-100).outerRadius(e-20);f.selectAll("path").data(g(a)).enter().append("path").attr("d",function(a){var b={startAngle:a.startAngle,endAngle:a.startAngle};return h(b)}).attr("fill",function(a){return a.data.color}).on("mouseover",d.show).on("mouseout",d.hide).transition().attr("d",h).ease("bounce").duration(1e3)}},!0)}}}),angular.module("ui.chart").run(["$templateCache",function(a){"use strict";a.put("chart.html",'<div class="container">\n</div>')}]);