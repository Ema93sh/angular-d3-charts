/*! datepicker 2014-06-07 */
var ChartModule=angular.module("ui.chart",[]);ChartModule.directive("mgBarChart",function(){var a=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(a){return"<strong>"+a.label+":</strong> <span style='color:red'>"+a.value+"</span>"});return{scope:{data:"=chartData",options:"=chartOptions"},restrict:"E",templateUrl:"chart.html",replace:!0,link:function(b,c){var d={width:800,height:500,padding:100},e={width:d.width-2*d.padding,height:d.height-2*d.padding},f=d3.select(c[0]).append("svg").attr("width",d.width).attr("height",d.height);b.$watch("data",function(b){f.selectAll("*").remove();var c=0,g=0;angular.forEach(b,function(a){g+=a.value,Number(a.value)>c&&(c=Number(a.value))});var h=d3.scale.ordinal().rangeRoundBands([0,e.width],.1);h.domain(b.map(function(a){return a.label}));var i=d3.svg.axis().orient("bottom").scale(h),j=d3.scale.linear().range([e.height,0]);j.domain([0,c]);var k=d3.svg.axis().orient("left").scale(j);f.append("g").attr("class","x axis").attr("transform","translate("+d.padding+", "+(d.height-d.padding)+")").call(i).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform",function(){return"rotate(-65)"}),f.call(a),f.append("g").attr("class","y axis").attr("transform","translate("+d.padding+","+d.padding+" )").call(k);var l=f.selectAll("rect").data(b).enter().append("rect");l.attr("x",function(a){return h(a.label)+d.padding}).attr("y",d.height-d.padding).attr("width",h.rangeBand()).attr("height",0).style("fill",function(a){return a.color}).on("mouseover",a.show).on("mouseout",a.hide).transition().attr("y",function(a){return j(a.value)+d.padding}).attr("height",function(a){return e.height-j(a.value)}).duration(1e3)},!0)}}}),ChartModule.directive("mgPieChart",function(){var a=d3.tip().attr("class","d3-tip").html(function(a){return"<strong>"+a.data.label+":</strong> <span style='color:red'>"+a.data.value+"</span>"});return{scope:{data:"=chartData"},restrict:"E",templateUrl:"chart.html",replace:"true",link:function(b,c){var d={width:800,height:500,padding:50},e={width:d.width-2*d.padding,height:d.height-2*d.padding},f=Math.min(e.width,e.height)/2,g=d3.select(c[0]).append("svg").attr("width",d.width).attr("height",d.height).append("g").attr("transform","translate("+d.width/2+","+d.height/2+")");b.$watch("data",function(b){g.selectAll("*").remove();var c=0,d=0;angular.forEach(b,function(a){d+=a.value,Number(a.value)>c&&(c=Number(a.value))}),g.call(a);{var e=d3.layout.pie().sort(null).value(function(a){return a.value}),h=d3.svg.arc().innerRadius(f-100).outerRadius(f-20);g.selectAll("path").data(e(b)).enter().append("path").attr("fill",function(a){return a.data.color}).on("mouseover",a.show).on("mouseout",a.hide).transition().delay(function(a,b){return 400*b}).attrTween("d",function(a){var b=d3.interpolate(a.startAngle+.1,a.endAngle);return function(c){return a.endAngle=b(c),h(a)}}).ease("bounce").duration(400)}},!0)}}}),angular.module("ui.chart").run(["$templateCache",function(a){"use strict";a.put("chart.html",'<div class="container">\n</div>')}]);